webpackJsonp([1],{"+xjZ":function(e,n,t){"use strict";function i(e){t("72p1")}var s=t("n/yj"),c=t("Dmnn"),u=t("VU/8"),l=i,r=u(s.a,c.a,l,null,null);n.a=r.exports},"/8vw":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"changeIndexObj",function(){return c});var i=t("//Fk"),s=t.n(i),c=function(e,n){return new s.a(function(t,i){e.commit("changeIndexObj",{indexArr:n.indexObj,length:n.length}),t("ok")})}},0:function(e,n){e.exports=Vue},1:function(e,n){e.exports=Vuex},2:function(e,n){e.exports=VueRouter},"72p1":function(e,n){},Dmnn:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"second_list el-select"},[t("el-input",{staticClass:"index_input",attrs:{disabled:"",icon:"arrow-down","on-icon-click":e.handleIconClick},on:{click:e.handleIconClick},model:{value:e.indexholder,callback:function(n){e.indexholder=n},expression:"indexholder"}}),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.menuShow,expression:"menuShow"}],attrs:{id:"menu"},on:{click:e.menuClick}},e._l(e.list,function(n,i){return t("li",{on:{click:function(n){e.changeSub(i,n)}}},[t("span",{attrs:{"data-id":n.value}},[t("el-checkbox",{staticClass:"checkAll",on:{change:function(n){e.checkSub(i,n)}},model:{value:e.outCheck[i],callback:function(n){e.$set(e.outCheck,i,n)},expression:"outCheck[index1]"}}),e._v(" "),t("span",{},[e._v(e._s(n.label))])],1),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.ulShow[i],expression:"ulShow[index1]"}]},e._l(n.children,function(n,s){return t("li",[t("span",{attrs:{"data-id":n.value}},[t("el-checkbox",{staticClass:"checkAll",on:{change:function(n){e.ulChange(i,s,n)}},model:{value:e.ulCheck[i][s],callback:function(n){e.$set(e.ulCheck[i],s,n)},expression:"ulCheck[index1][index2]"}}),e._v(" "),t("span",[e._v(e._s(n.label))])],1)])}))])}))],1)},s=[],c={render:i,staticRenderFns:s};n.a=c},M93x:function(e,n,t){"use strict";function i(e){t("NnI+")}var s=t("xJD8"),c=t("Nynz"),u=t("VU/8"),l=i,r=u(s.a,c.a,l,null,null);n.a=r.exports},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),s=t.n(i),c=t("M93x"),u=t("YaEn"),l=t("YtJ0");s.a.config.productionTip=!1,new s.a({el:"#app",router:u.a,store:l.a,template:"<App/>",components:{App:c.a}})},"NnI+":function(e,n){},Nynz:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("p",[e._v("选中的二级选项的id："+e._s(e.indexArr))]),e._v(" "),t("multiSel",{attrs:{"multi-list":e.list}})],1)},s=[],c={render:i,staticRenderFns:s};n.a=c},"UTg/":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"changeIndexObj",function(){return i});var i=function(e,n){e.indexObj.indexArr=n.indexArr,e.indexObj.length=n.length}},WMeU:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"indexObj",function(){return i});var i=function(e){return e.indexObj}},YaEn:function(e,n,t){"use strict";var i=t(0),s=t.n(i),c=t(2),u=t.n(c),l=t("+xjZ");s.a.use(u.a),n.a=new u.a({routes:[{path:"/",name:"multiSel",component:l.a}]})},YtJ0:function(e,n,t){"use strict";var i=t(0),s=(t.n(i),t(1)),c=t.n(s),u=t("WMeU"),l=t("UTg/"),r=t("/8vw"),a=(t("YaEn"),{indexObj:{length:"",indexArr:{}}}),o=new c.a.Store({state:a,mutations:l,getters:u,actions:r});n.a=o},"n/yj":function(e,n,t){"use strict";var i=t("woOf"),s=t.n(i),c=t("pFYg"),u=t.n(c);n.a={name:"second_list",props:["multiList"],data:function(){return{input2:"",list:this.multiList,ulShow:[],ulCheck:[],innerCheck:[],outCheck:[],indexid:[],indexObj:{},menuShow:!1,testCheck:[],indexholder:"下拉查看已选项目"}},watch:{ulCheck:{handler:function(e,n){}}},methods:{changeSub:function(e,n){this.ulShow=this.ulShow.map(function(e,n){return!1}),this.ulShow[e]=!0},checkSub:function(e,n){if(n.stopPropagation(),event.target.checked){var t=this.ulCheck[e].map(function(e,n){return!0},this);this.$set(this.ulCheck,e,t);var i=this.list[e].children;this.indexid=i.map(function(e,n){return e.value},this),this.$set(this.indexObj,e,this.indexid)}else{var s=this.ulCheck[e].map(function(e,n){return!1},this);this.$set(this.ulCheck,e,s),this.$set(this.indexObj,e,[])}},ulChange:function(e,n,t){var i=this.list[e].children[n].value;if(t.target.checked)this.indexObj[e].push(i),this.indexObj[e].length==this.list[e].children.length&&this.$set(this.outCheck,e,!0);else{this.$set(this.outCheck,e,!1);var s=this.indexObj[e].indexOf(i);-1!=s&&this.indexObj[e].splice(s,1)}},handleIconClick:function(e){var n=this;e.stopPropagation(),this.$nextTick(function(){$("#menu").show(),$(document).one("click",function(){$("#menu").hide();for(var e,t=0,i=0;i<n.list.length;i++)n.indexObj[i].length>0?e=!0:t++;e?n.indexholder="下拉查看已选项目":t==n.list.length&&(n.indexholder="请先选择项目")}),n.$store.dispatch("changeIndexObj",{indexObj:n.indexObj,length:n.list.length}).then(function(e){})})},menuClick:function(e){e.stopPropagation()},copyArr:function(e){return e.map(function(e){return"object"===(void 0===e?"undefined":u()(e))?s()({},e):e})},getIndexArr:function(){this.list.length>0&&(this.ulShow=this.list.map(function(e,n){return 0==n}),this.outCheck=this.list.map(function(e,n){return!0}),this.list.map(function(e,n){this.innerCheck=e.children.map(function(e,n){return!0});var t=e.children.map(function(e,n){return e.value});this.$set(this.indexObj,n,t),this.$set(this.ulCheck,n,this.innerCheck)},this),this.$store.dispatch("changeIndexObj",{indexObj:this.indexObj,length:this.list.length}).then(function(e){}))}},created:function(){this.getIndexArr()}}},xJD8:function(e,n,t){"use strict";var i=t("Dd8w"),s=t.n(i),c=t(1),u=(t.n(c),t("+xjZ"));n.a={name:"app",components:{multiSel:u.a},data:function(){return{list:[{value:"01",label:"学科名称",children:[{value:"11",label:"物理学"},{value:"12",label:"数学"},{value:"13",label:"化学"}]},{value:"02",label:"学校名称",children:[{value:"21",label:"北京大学"},{value:"22",label:"清华大学"},{value:"22",label:"中国科学技术大学"}]}],indexArr:[]}},computed:s()({},t.i(c.mapGetters)({indexObj:"indexObj"})),watch:{indexObj:{handler:function(e,n){var t=e.length,i=e.indexArr;this.indexArr=[];for(var s=0;s<t;s++)i[s].map(function(e,n){this.indexArr.push(e)},this)},deep:!0}}}}},["NHnr"]);
//# sourceMappingURL=app.ec28ec0ec86d7fcdd5ab.js.map